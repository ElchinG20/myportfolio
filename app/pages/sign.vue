<script setup lang="ts">
const { data: page } = await useAsyncData('sign', () => {
  return queryCollection('sign').first()
})
if (!page.value) {
  throw createError({
    statusCode: 404,
    statusMessage: 'Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°',
    fatal: true
  })
}

const { global } = useAppConfig()

useSeoMeta({
  title: page.value?.seo?.title || page.value?.title,
  ogTitle: page.value?.seo?.title || page.value?.title,
  description: page.value?.seo?.description || page.value?.description,
  ogDescription: page.value?.seo?.description || page.value?.description
})

const members: UserProps[] = [
  {
    name: 'Ð­Ð»ÑŒÑ‡Ð¸Ð½ Ð“.',
    description: 'ElchinG20',
    to: 'https://github.com/ElchinG20',
    target: '_blank',
    avatar: {
      src: '/hero/ra-100.jpg',
      alt: 'Ð­Ð»ÑŒÑ‡Ð¸Ð½ Ð“Ð°ÑÐ°Ð½Ð¾Ð²'
    }
  },
  {
    name: 'ÐÐ¸ÐºÐ¾Ð»Ð°Ð¹ Ð’.',
    description: 'pi0',
    to: 'https://github.com/pi0',
    target: '_blank',
    avatar: {
      src: 'https://github.com/pi0.png',
      alt: 'ÐÐ¸ÐºÐ¾Ð»Ð°Ð¹ Ð’Ð¾ÑÐºÐ¾Ð²'
    }
  },
  {
    name: 'ÐžÐ»Ð¸Ð²ÐµÑ€ Ð¥.',
    description: 'atinux',
    to: 'https://github.com/atinux',
    target: '_blank',
    avatar: {
      src: 'https://github.com/atinux.png',
      alt: 'ÐžÐ»Ð¸Ð²ÐµÑ€ Ð¥Ð°Ñ€Ð²Ð¸Ð½'
    }
  },
  {
    name: 'Ð“ÐµÑ€Ð¼Ð°Ð½ Ð.',
    description: 'benjamincanac',
    to: 'https://github.com/benjamincanac',
    target: '_blank',
    avatar: {
      src: 'https://github.com/benjamincanac.png',
      alt: 'Ð“ÐµÑ€Ð¼Ð°Ð½ ÐÐµÐ¹Ð¼Ð°Ð½'
    }
  }
]

const loginWithYandex = () => {
  const clientId = '4db5a2205f204bb5b7972ce7f52ee6a4';
  const redirectUri = 'https://elchin.vercel.app/id-open';
  
  const authUrl = `https://oauth.yandex.ru/authorize?response_type=code&client_id=${clientId}&redirect_uri=${redirectUri}`;
  
  window.location.href = authUrl;
};
</script>

<template>
  <!-- <UBanner
    title="ÐœÑ‹ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ ÐºÑ€ÑƒÑ‚Ð¾Ð³Ð¾ Ð°Ð¿Ð³Ñ€ÐµÐ¹Ð´Ð°"
    close
    close-icon="i-lucide-x-circle"
  /> -->
  <UBanner
    color="secondary"
    title="ÐœÑ‹ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ ÐºÑ€ÑƒÑ‚Ð¾Ð³Ð¾ Ð°Ð¿Ð³Ñ€ÐµÐ¹Ð´Ð°"
    icon="svg-spinners:blocks-shuffle-3"
    class="rounded-lg"
    close
  />
<br>
  <UEmpty
    :ui="{
      container: 'px-0 !pt-0 gap-4 sm:gap-4',
      title: 'text-xl sm:text-xl lg:text-2xl font-medium',
      description: 'mt-2 text-sm sm:text-md lg:text-sm text-muted'
    }"
    title="Ð¡ÐºÐ¾Ñ€Ð¾ Ð±ÑƒÐ´ÐµÑ‚ ÐºÑ€ÑƒÑ‚Ð¾ ðŸ˜Ž"
    description="Ð’ Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð¼Ñ‹ ÐºÐ¾Ð»Ð´ÑƒÐµÐ¼ Ð½Ð°Ð´ ÑÐ°Ð¹Ñ‚Ð¾Ð¼. ÐœÐ°Ð³Ð¸Ñ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸!"
    variant="naked"
    :actions="[{ 
      label: 'ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ',
      icon: 'svg-spinners:gooey-balls-2',
      color: 'neutral',
      class: 'cursor-pointer',
      click: 'loginWithYandex'
    }]"
  >
    <template #leading>
      <UAvatarGroup size="xl">
        <UAvatar src="/hero/LOGO_ELCHIN_GASANOV.svg" alt="Ð­Ð»ÑŒÑ‡Ð¸Ð½ Ð“Ð°ÑÐ°Ð½Ð¾Ð²" />
      </UAvatarGroup>
    </template>

    <template #footer>
      <USeparator class="my-4" />

      <div class="grid grid-cols-2 gap-4">
        <UPageCard
          v-for="(member, index) in members"
          :key="index"
          :to="member.to"
          :ui="{ container: 'sm:p-4' }"
        >
          <UUser
            :avatar="member.avatar"
            :name="member.name"
            :description="member.description"
            :ui="{ name: 'truncate' }"
          />
        </UPageCard>
      </div>
    </template>
  </UEmpty>
</template>


<!-- <template>
    <UBanner
    title="ÐœÑ‹ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ ÐºÑ€ÑƒÑ‚Ð¾Ð³Ð¾ Ð°Ð¿Ð³Ñ€ÐµÐ¹Ð´Ð°. Ð¡ÐºÐ¾Ñ€Ð¾ Ñ€ÐµÐ»Ð¸Ð·!"
    close
    close-icon="i-lucide-x-circle"
  />
 <UPageSection
    title="Ð¡ÐºÐ¾Ñ€Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ"
    description="Ð¡ÐºÐ¾Ñ€Ð¾ Ð½Ð° ÑÑ‚Ð¾Ð¹ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ. Ð¡Ð»ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð° Ð½Ð¾Ð²Ð¾ÑÑ‚ÑÐ¼Ð¸."
    icon="svg-spinners:gooey-balls-2"
    orientation="horizontal"
    spotlight spotlight-color="secondary"
  >
  <img src="/hero/ra-100.jpg" alt="Ð­Ð»ÑŒÑ‡Ð¸Ð½ Ð“Ð°ÑÐ°Ð½Ð¾Ð²" class="w-full" />

 </UPageSection>
</template> -->