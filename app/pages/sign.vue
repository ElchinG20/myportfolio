<script setup lang="ts">
const { data: page } = await useAsyncData('sign', () => {
  return queryCollection('sign').first()
})
if (!page.value) {
  throw createError({
    statusCode: 404,
    statusMessage: '–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞',
    fatal: true
  })
}

const { global } = useAppConfig()

useSeoMeta({
  title: page.value?.seo?.title || page.value?.title,
  ogTitle: page.value?.seo?.title || page.value?.title,
  description: page.value?.seo?.description || page.value?.description,
  ogDescription: page.value?.seo?.description || page.value?.description
})

const members: UserProps[] = [
  {
    name: '–≠–ª—å—á–∏–Ω –ì.',
    description: 'ElchinG20',
    to: 'https://github.com/ElchinG20',
    target: '_blank',
    avatar: {
      src: '/hero/ra-100.jpg',
      alt: '–≠–ª—å—á–∏–Ω –ì–∞—Å–∞–Ω–æ–≤'
    }
  },
  {
    name: '–ù–∏–∫–æ–ª–∞–π –í.',
    description: 'pi0',
    to: 'https://github.com/pi0',
    target: '_blank',
    avatar: {
      src: 'https://github.com/pi0.png',
      alt: '–ù–∏–∫–æ–ª–∞–π –í–æ—Å–∫–æ–≤'
    }
  },
  {
    name: '–û–ª–∏–≤–µ—Ä –•.',
    description: 'atinux',
    to: 'https://github.com/atinux',
    target: '_blank',
    avatar: {
      src: 'https://github.com/atinux.png',
      alt: '–û–ª–∏–≤–µ—Ä –•–∞—Ä–≤–∏–Ω'
    }
  },
  {
    name: '–ì–µ—Ä–º–∞–Ω –ù.',
    description: 'benjamincanac',
    to: 'https://github.com/benjamincanac',
    target: '_blank',
    avatar: {
      src: 'https://github.com/benjamincanac.png',
      alt: '–ì–µ—Ä–º–∞–Ω –ù–µ–π–º–∞–Ω'
    }
  }
]
</script>
<script setup>
const loginWithYandex = () => {
  const clientId = '4db5a2205f204bb5b7972ce7f52ee6a4';
  const redirectUri = 'https://elchin.vercel.app/id-open';
  
  const authUrl = `https://oauth.yandex.ru/authorize?response_type=code&client_id=${clientId}&redirect_uri=${redirectUri}`;
  
  window.location.href = authUrl;
};
</script>

<template>
  <!-- <UBanner
    title="–ú—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∫—Ä—É—Ç–æ–≥–æ –∞–ø–≥—Ä–µ–π–¥–∞"
    close
    close-icon="i-lucide-x-circle"
  /> -->
  <UBanner
    color="secondary"
    title="–ú—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∫—Ä—É—Ç–æ–≥–æ –∞–ø–≥—Ä–µ–π–¥–∞"
    icon="svg-spinners:blocks-shuffle-3"
    class="rounded-lg"
    close
  />
<br>
  <UEmpty
    :ui="{
      container: 'px-0 !pt-0 gap-4 sm:gap-4',
      title: 'text-xl sm:text-xl lg:text-2xl font-medium',
      description: 'mt-2 text-sm sm:text-md lg:text-sm text-muted'
    }"
    title="–°–∫–æ—Ä–æ –±—É–¥–µ—Ç –∫—Ä—É—Ç–æ üòé"
    description="–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º—ã –∫–æ–ª–¥—É–µ–º –Ω–∞–¥ —Å–∞–π—Ç–æ–º. –ú–∞–≥–∏—è —Ç—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏!"
    variant="naked"
    :actions="[{ 
      label: '–û–±–Ω–æ–≤–∏—Ç—å',
      icon: 'svg-spinners:gooey-balls-2',
      color: 'neutral',
      class: 'cursor-pointer',
      click: 'loginWithYandex'
    }]"
  >
    <template #leading>
      <UAvatarGroup size="xl">
        <UAvatar src="/hero/LOGO_ELCHIN_GASANOV.svg" alt="–≠–ª—å—á–∏–Ω –ì–∞—Å–∞–Ω–æ–≤" />
      </UAvatarGroup>
    </template>

    <template #footer>
      <USeparator class="my-4" />

      <div class="grid grid-cols-2 gap-4">
        <UPageCard
          v-for="(member, index) in members"
          :key="index"
          :to="member.to"
          :ui="{ container: 'sm:p-4' }"
        >
          <UUser
            :avatar="member.avatar"
            :name="member.name"
            :description="member.description"
            :ui="{ name: 'truncate' }"
          />
        </UPageCard>
      </div>
    </template>
  </UEmpty>
</template>


<!-- <template>
    <UBanner
    title="–ú—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∫—Ä—É—Ç–æ–≥–æ –∞–ø–≥—Ä–µ–π–¥–∞. –°–∫–æ—Ä–æ —Ä–µ–ª–∏–∑!"
    close
    close-icon="i-lucide-x-circle"
  />
 <UPageSection
    title="–°–∫–æ—Ä–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ"
    description="–°–∫–æ—Ä–æ –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ—è–≤–∏—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏."
    icon="svg-spinners:gooey-balls-2"
    orientation="horizontal"
    spotlight spotlight-color="secondary"
  >
  <img src="/hero/ra-100.jpg" alt="–≠–ª—å—á–∏–Ω –ì–∞—Å–∞–Ω–æ–≤" class="w-full" />

 </UPageSection>
</template> -->